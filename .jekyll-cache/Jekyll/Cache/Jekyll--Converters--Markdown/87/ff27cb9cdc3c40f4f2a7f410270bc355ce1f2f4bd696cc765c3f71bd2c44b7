I"滀<p>Python 餈�洵銝蝭��喳�摮虫��辣��嚗�摨砲�����冽餈�鈭�</p>

<!-- more -->

<h2 class="no_toc" id="�桀�">�桀�嚗�</h2>

<ul id="markdown-toc">
  <li><a href="#霂餃���辣" id="markdown-toc-霂餃���辣">霂餃���辣</a>    <ul>
      <li><a href="#霂餃���辣" id="markdown-toc-霂餃���辣">霂餃���辣</a>        <ul>
          <li><a href="#�澆�閫�" id="markdown-toc-�澆�閫�">�澆�閫�</a></li>
          <li><a href="#霂餃����摰�" id="markdown-toc-霂餃����摰�">霂餃����摰�</a></li>
          <li><a href="#���粉��" id="markdown-toc-���粉��">���粉��</a></li>
          <li><a href="#��霂餃�" id="markdown-toc-��霂餃�">��霂餃�</a></li>
          <li><a href="#�辣餈凋誨��" id="markdown-toc-�辣餈凋誨��">�辣餈凋誨��</a></li>
        </ul>
      </li>
      <li><a href="#���辣" id="markdown-toc-���辣">���辣</a></li>
    </ul>
  </li>
  <li><a href="#references" id="markdown-toc-references">References</a></li>
</ul>

<h2 id="霂餃���辣">霂餃���辣</h2>
<p>�啣�芾�撖寞��祆�隞嗥�����</p>

<h4 id="霂餃���辣">霂餃���辣</h4>

<h6 id="�澆�閫�">�澆�閫�</h6>

<p>�蝞��亦���銝�</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'�湔屆��.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>雿���辣銝��冽�����嚗�餈唬誨���仿���隞交�隞乩��寡���</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>       
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'�湔屆��.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>   
            <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="k">except</span> <span class="nb">FileNotFoundError</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'��������隞�!'</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">LookupError</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'��鈭�亦�蝻�!'</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">UnicodeDecodeError</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'霂餃��辣�嗉圾��霂�!'</span><span class="p">)</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<ul>
  <li>
    <p>��<code class="highlighter-rouge">try</code>隞������臭誑頝�銝銝芣�憭葵<code class="highlighter-rouge">except</code>�交��瑕�賢�啁�撘虜�嗅</p>
  </li>
  <li>
    <p>��<code class="highlighter-rouge">with</code>�喲摮�摰�隞嗅笆鞊∠�銝��憓僎�函氖撘銝��憓�芸��辣韏�</p>
  </li>
</ul>

<p>�虜��嚗粉��隞嗆�隞乩����孵�嚗�</p>

<ul>
  <li>銝甈⊥扯粉����摰對�雿輻 <code class="highlighter-rouge">read()</code> �� <code class="highlighter-rouge">readlines()</code>嚗�</li>
  <li>���粉��雿輻 <code class="highlighter-rouge">read(size)</code>嚗�</li>
  <li>��霂餃�嚗蝙�� <code class="highlighter-rouge">readline()</code>嚗�</li>
</ul>

<h6 id="霂餃����摰�">霂餃����摰�</h6>
<p>霂餃����摰孵隞乩蝙�� <code class="highlighter-rouge">read()</code> �� <code class="highlighter-rouge">readlines()</code>�銝��摮歇蝏蝙�其� <code class="highlighter-rouge">read()</code>���Ｖ�蝏�<code class="highlighter-rouge">readlines()</code>��</p>

<p><code class="highlighter-rouge">readlines()</code> �寞�隡��辣霂餃銝銝芸�蝚虫葡�”嚗�”銝剜�銝芸�蝚虫葡撠望銝銵�</p>

<p>�挽��銝芣�隞� <code class="highlighter-rouge">data.txt</code>嚗���隞嗅�摰孵�銝��啣�銋��泵��<code class="highlighter-rouge">'\t'</code>嚗�</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>10  1   9   9
6   3   2   8
20  10  3   23
1   4   1   10
10  8   6   3
10  2   1   6
</pre></td></tr></tbody></table></code></pre></div></div>

<p>�賑雿輻 <code class="highlighter-rouge">readlines()</code> 撠�隞嗉粉�乩�銝芸�蝚虫葡�”嚗�</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'data.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>   <span class="c1"># 甇文� lines �喃蛹�﹝�捆
</span>    <span class="n">line_num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">line_num</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>�扯�蝏�嚗�</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>['10\t1\t9\t9\n', '6\t3\t2\t8\n', '20\t10\t3\t23\n', '1\t4\t1\t10\n', '10\t8\t6\t3\n', '10\t2\t1\t6']
6
</pre></td></tr></tbody></table></code></pre></div></div>

<p>�臭誑�嚗�銵其葉��銝芸�蝝�臭�銝芸�蝚虫葡嚗�憟賢笆摨�隞嗡葉��銝銵�</p>

<h6 id="���粉��">���粉��</h6>
<p>憒��辣敺之嚗�憒� 100G嚗�甈⊥扯粉����摰嫣���銝云�啣����塚��賑��銝芸摰摨衣�蝻�綽��乩��剛粉��隞嗅�摰嫘�</p>

<p>��靘�嚗�</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'path/to/file'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1024</span><span class="p">)</span>        <span class="c1"># 瘥活霂餃� 1024 銝芸����� 1 KB嚗��捆
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">piece</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">print</span> <span class="n">piece</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>�其��ｇ��賑雿輻 <code class="highlighter-rouge">f.read(1024)</code> �交�甈∟粉�� 1024 銝芸���1KB嚗� ��隞嗅�摰對�撠摮 <code class="highlighter-rouge">piece</code>嚗�撖� <code class="highlighter-rouge">piece</code> 餈�憭���</p>

<p>鈭�銝��賑餈隞亦��� <code class="highlighter-rouge">yield</code> �乩蝙�剁�</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">read_in_chunks</span><span class="p">(</span><span class="n">file_object</span><span class="p">,</span> <span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
    <span class="c1"># Lazy function (generator) to read a file piece by piece.
</span>    <span class="c1"># Default chunk size: 1k.
</span>    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">yield</span> <span class="n">data</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'path/to/file'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">read_in_chunks</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
        <span class="k">print</span> <span class="n">piece</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h6 id="��霂餃�">��霂餃�</h6>
<p>�冽�鈭��萎�嚗�隞砍���霂餃��辣嚗��嗅隞乩蝙�� <code class="highlighter-rouge">readline()</code> �寞���</p>

<p>��靘�嚗�</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'data.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>     <span class="c1"># ��霂餃�
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s">' '</span><span class="p">)</span>             <span class="c1"># 餈��� end=' ' �臭蛹鈭�� print �芸�Ｚ�
</span></pre></td></tr></tbody></table></code></pre></div></div>
<p>�扯�蝏�嚗�</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>10  1   9   9
6   3   2   8
20  10  3   23
1   4   1   10
10  8   6   3
10  2   1   6
</pre></td></tr></tbody></table></code></pre></div></div>

<h6 id="�辣餈凋誨��">�辣餈凋誨��</h6>
<p>�� Python 銝哨��辣撖寡情�臬餈凋誨��餈��喟��賑�臭誑�湔�� <code class="highlighter-rouge">for-in</code> 敺芰銝凋蝙�典�隞穿����舫�餈凋誨��銋停�航秩嚗��� <code class="highlighter-rouge">readline()</code> �臭��瑞�嚗��渡�瘣�</p>

<p>��靘�嚗�</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'data.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s">' '</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>�其��Ｙ�隞��銝哨�<code class="highlighter-rouge">f</code> 撠望銝銝芣�隞嗉翮隞�嚗�甇斗�隞砍隞亦�乩蝙�� <code class="highlighter-rouge">for line in f</code>嚗��舫�餈凋誨��</p>

<h4 id="���辣">���辣</h4>

<p>��隞嗡蝙�� <code class="highlighter-rouge">write</code> �寞�嚗�銝�</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'E:/Program Datas/PycharmProjects/p1302/data2.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>    <span class="c1"># �辣��ython蝔��典�銝芰�蝚虫�嚗�蝚�'E:/'�舐���
</span>    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'one</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'two'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>憒�銝膩�辣撌脣��剁���皜征��摰孵僎閬���</li>
  <li>憒�銝膩頝臬��舀迤蝖桃�嚗�憒��� 銝膩頝臬�嚗�雿�辣銝��剁�<code class="highlighter-rouge">data2.txt</code> 銝��剁�嚗�隡撱箔�銝芣�隞塚�撟嗅��乩�餈啣�摰對�</li>
  <li>憒�銝膩頝臬��臭�甇�＆��瘥�撠楝敺��� <code class="highlighter-rouge">/PROGRAMDATAS/...</code> 嚗�餈隡��� <code class="highlighter-rouge">IOError</code>嚗�</li>
</ul>

<p>憒��賑�喳�撌脣��函��辣餈賢��捆嚗隞乩蝙�� <code class="highlighter-rouge">'a'</code> 璅∪�嚗�銝�</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'E:/Program Datas/PycharmProjects/p1302/data2.txt'</span><span class="p">,</span> <span class="s">'a'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'three</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">'four'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="references">References</h2>

<ul>
  <li><a href="https://github.com/jackfrued/Python-100-Days/blob/master/Day01-15/11.�辣��撣�.md#�辣��撣�">Python-100-Days-�辣��撣�</a></li>
  <li><a href="https://juejin.im/post/5c720ff3f265da2d8e70ebef#heading-18">�沌ython霂餃��辣嚗�餈�撠勗�</a></li>
  <li><a href="https://github.com/ethan-funny/explore-python">ethan-funny/explore-python</a></li>
</ul>

<hr />

:ET